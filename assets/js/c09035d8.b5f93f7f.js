"use strict";(globalThis.webpackChunktboh_doc=globalThis.webpackChunktboh_doc||[]).push([[45],{771:(e,o,s)=>{s.r(o),s.d(o,{assets:()=>c,contentTitle:()=>r,default:()=>u,frontMatter:()=>l,metadata:()=>a,toc:()=>d});const a=JSON.parse('{"id":"introduction/casos-de-uso","title":"Casos de uso","description":"Caso 1. Inicio de sesion seguro","source":"@site/docs/introduction/casos-de-uso.md","sourceDirName":"introduction","slug":"/introduction/casos-de-uso","permalink":"/docs/introduction/casos-de-uso","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3,"sidebar_label":"Casos de uso","title":"Casos de uso","hide_title":true},"sidebar":"tutorialSidebar","previous":{"title":"Caracter\xedsticas principales","permalink":"/docs/introduction/caracteristicas-principales"},"next":{"title":"Requisitos previos","permalink":"/docs/introduction/requisitos-previos"}}');var n=s(4848),i=s(8453);const l={sidebar_position:3,sidebar_label:"Casos de uso",title:"Casos de uso",hide_title:!0},r=void 0,c={},d=[{value:"Caso 1. Inicio de sesion seguro",id:"caso-1-inicio-de-sesion-seguro",level:2},{value:"Proposito",id:"proposito",level:3},{value:"Flujo",id:"flujo",level:3},{value:"Caso 2. Configuracion de encuesta",id:"caso-2-configuracion-de-encuesta",level:2},{value:"Proposito",id:"proposito-1",level:3},{value:"Flujo",id:"flujo-1",level:3},{value:"Caso 3. Observacion de estado automatico",id:"caso-3-observacion-de-estado-automatico",level:2},{value:"Proposito",id:"proposito-2",level:3},{value:"Flujo",id:"flujo-2",level:3},{value:"Caso 4. Recuperacion de acceso",id:"caso-4-recuperacion-de-acceso",level:2},{value:"Proposito",id:"proposito-3",level:3},{value:"Flujo",id:"flujo-3",level:3},{value:"Caso 5. Consulta y descarga de resultados",id:"caso-5-consulta-y-descarga-de-resultados",level:2},{value:"Proposito",id:"proposito-4",level:3},{value:"Flujo",id:"flujo-4",level:3},{value:"Caso 6. Recoleccion anonima mediante enlace compartido",id:"caso-6-recoleccion-anonima-mediante-enlace-compartido",level:2},{value:"Proposito",id:"proposito-5",level:3},{value:"Flujo",id:"flujo-5",level:3},{value:"Caso 7. Recoleccion nombrada con gestion de encuestados",id:"caso-7-recoleccion-nombrada-con-gestion-de-encuestados",level:2},{value:"Proposito",id:"proposito-6",level:3},{value:"Flujo",id:"flujo-6",level:3},{value:"Caso 8. Formularios personalizados para Ingenio",id:"caso-8-formularios-personalizados-para-ingenio",level:2},{value:"Proposito",id:"proposito-7",level:3},{value:"Flujo",id:"flujo-7",level:3}];function t(e){const o={code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.h2,{id:"caso-1-inicio-de-sesion-seguro",children:"Caso 1. Inicio de sesion seguro"}),"\n",(0,n.jsx)(o.h3,{id:"proposito",children:"Proposito"}),"\n",(0,n.jsx)(o.p,{children:"Permitir que los usuarios corporativos accedan al portal con autenticacion basada en credenciales y tokens JWT."}),"\n",(0,n.jsx)(o.h3,{id:"flujo",children:"Flujo"}),"\n",(0,n.jsxs)(o.ol,{children:["\n",(0,n.jsxs)(o.li,{children:["Usuario ingresa correo y contrasena en ",(0,n.jsx)(o.code,{children:"/login"}),"."]}),"\n",(0,n.jsxs)(o.li,{children:["Frontend envia las credenciales al backend (",(0,n.jsx)(o.code,{children:"/api/Login"}),")."]}),"\n",(0,n.jsxs)(o.li,{children:[(0,n.jsx)(o.code,{children:"LoginService"})," valida en la base de datos y devuelve token firmado con rol y ",(0,n.jsx)(o.code,{children:"idClient"}),"."]}),"\n",(0,n.jsxs)(o.li,{children:[(0,n.jsx)(o.code,{children:"auth-astro"})," guarda el token en la sesion y el middleware redirige a ",(0,n.jsx)(o.code,{children:"/dashboard"}),"."]}),"\n"]}),"\n",(0,n.jsx)(o.h2,{id:"caso-2-configuracion-de-encuesta",children:"Caso 2. Configuracion de encuesta"}),"\n",(0,n.jsx)(o.h3,{id:"proposito-1",children:"Proposito"}),"\n",(0,n.jsx)(o.p,{children:"Habilitar a administradores y PMs de cliente para crear encuestas con segmentacion avanzada."}),"\n",(0,n.jsx)(o.h3,{id:"flujo-1",children:"Flujo"}),"\n",(0,n.jsxs)(o.ol,{children:["\n",(0,n.jsxs)(o.li,{children:["Usuario crea una nueva encuesta definiendo fechas, meta (",(0,n.jsx)(o.code,{children:"QttyGoal"}),") y tipo."]}),"\n",(0,n.jsxs)(o.li,{children:["Usa los modulos de segmentacion (",(0,n.jsx)(o.code,{children:"SurveySegmentService"}),") para cargar niveles 1-7 segun la estructura del cliente."]}),"\n",(0,n.jsxs)(o.li,{children:["Registra encuestados o integra accesos (",(0,n.jsx)(o.code,{children:"SurveyUserAccessService"}),")."]}),"\n",(0,n.jsx)(o.li,{children:"Guarda la encuesta; el backend persiste en SQL Server y queda lista para monitoreo."}),"\n"]}),"\n",(0,n.jsx)(o.h2,{id:"caso-3-observacion-de-estado-automatico",children:"Caso 3. Observacion de estado automatico"}),"\n",(0,n.jsx)(o.h3,{id:"proposito-2",children:"Proposito"}),"\n",(0,n.jsx)(o.p,{children:"Mantener actualizados los estados de las encuestas sin intervencion manual."}),"\n",(0,n.jsx)(o.h3,{id:"flujo-2",children:"Flujo"}),"\n",(0,n.jsxs)(o.ol,{children:["\n",(0,n.jsxs)(o.li,{children:[(0,n.jsx)(o.code,{children:"ActualizarEstadosEncuestasFunction"})," corre cada dos horas en horario laboral."]}),"\n",(0,n.jsxs)(o.li,{children:[(0,n.jsx)(o.code,{children:"ClientSurveyRepository"})," reune segmentaciones, accesos y respuestas actuales."]}),"\n",(0,n.jsxs)(o.li,{children:["Calcula el estado (Sin iniciar, En curso, Finalizada, Esperando) y actualiza la tabla ",(0,n.jsx)(o.code,{children:"ClientSurveys"}),"."]}),"\n",(0,n.jsx)(o.li,{children:"El frontend lee los nuevos estados y los muestra en el dashboard de avance."}),"\n"]}),"\n",(0,n.jsx)(o.h2,{id:"caso-4-recuperacion-de-acceso",children:"Caso 4. Recuperacion de acceso"}),"\n",(0,n.jsx)(o.h3,{id:"proposito-3",children:"Proposito"}),"\n",(0,n.jsx)(o.p,{children:"Restaurar la cuenta de un usuario con MFA cuando olvida su contrasena."}),"\n",(0,n.jsx)(o.h3,{id:"flujo-3",children:"Flujo"}),"\n",(0,n.jsxs)(o.ol,{children:["\n",(0,n.jsx)(o.li,{children:'Usuario solicita "Olvide mi contrasena".'}),"\n",(0,n.jsxs)(o.li,{children:["Backend genera un OTP via ",(0,n.jsx)(o.code,{children:"ForgotPasswordService"})," (Twilio) y lo envia por SMS."]}),"\n",(0,n.jsx)(o.li,{children:"Usuario ingresa el codigo, el servicio valida y permite definir una nueva contrasena."}),"\n",(0,n.jsx)(o.li,{children:"El usuario vuelve al login y entra con sus nuevas credenciales."}),"\n"]}),"\n",(0,n.jsx)(o.h2,{id:"caso-5-consulta-y-descarga-de-resultados",children:"Caso 5. Consulta y descarga de resultados"}),"\n",(0,n.jsx)(o.h3,{id:"proposito-4",children:"Proposito"}),"\n",(0,n.jsx)(o.p,{children:"Entregar a analistas reportes descargables con la ultima informacion de campo."}),"\n",(0,n.jsx)(o.h3,{id:"flujo-4",children:"Flujo"}),"\n",(0,n.jsxs)(o.ol,{children:["\n",(0,n.jsxs)(o.li,{children:["Analista navega a ",(0,n.jsx)(o.code,{children:"/dashboard/results"})," y aplica filtros por segmento o fecha."]}),"\n",(0,n.jsxs)(o.li,{children:["Frontend consulta al backend (",(0,n.jsx)(o.code,{children:"SurveyResultsService"}),") para graficos y KPIs."]}),"\n",(0,n.jsxs)(o.li,{children:["Si necesita datos crudos, activa ",(0,n.jsx)(o.code,{children:"DownloadSurveyDataService"})," para exportar a Excel."]}),"\n",(0,n.jsxs)(o.li,{children:["Para presentaciones ejecutivas, usa ",(0,n.jsx)(o.code,{children:"DonwloadPptResultsService"})," y descarga un PPT con insights clave."]}),"\n"]}),"\n",(0,n.jsx)(o.h2,{id:"caso-6-recoleccion-anonima-mediante-enlace-compartido",children:"Caso 6. Recoleccion anonima mediante enlace compartido"}),"\n",(0,n.jsx)(o.h3,{id:"proposito-5",children:"Proposito"}),"\n",(0,n.jsx)(o.p,{children:"Permitir campanas abiertas donde cualquier colaborador complete la encuesta sin identificarse."}),"\n",(0,n.jsx)(o.h3,{id:"flujo-5",children:"Flujo"}),"\n",(0,n.jsxs)(o.ol,{children:["\n",(0,n.jsxs)(o.li,{children:["Al crear la encuesta el administrador elige el tipo ",(0,n.jsx)(o.code,{children:"anonymous"})," en el modal de configuracion (",(0,n.jsx)(o.code,{children:"survey-create-modal.tsx"}),")."]}),"\n",(0,n.jsxs)(o.li,{children:["El backend marca ",(0,n.jsx)(o.code,{children:"surveyTypeId = 2"}),"; al consultar el detalle (",(0,n.jsx)(o.code,{children:"survey-detail-page-cards.tsx"}),") ",(0,n.jsx)(o.code,{children:"isAnon"})," queda en verdadero."]}),"\n",(0,n.jsxs)(o.li,{children:['El dashboard muestra la carta "Compartir encuesta" con un unico ',(0,n.jsx)(o.code,{children:"surveyRespondants.url"}),"; el usuario copia el enlace con ",(0,n.jsx)(o.code,{children:"SurveyCopyLink"}),"."]}),"\n",(0,n.jsx)(o.li,{children:"Los encuestados acceden al enlace publico, llenan el formulario y las respuestas se registran sin asociarlas a individuos; los jobs siguen calculando el progreso total."}),"\n"]}),"\n",(0,n.jsx)(o.h2,{id:"caso-7-recoleccion-nombrada-con-gestion-de-encuestados",children:"Caso 7. Recoleccion nombrada con gestion de encuestados"}),"\n",(0,n.jsx)(o.h3,{id:"proposito-6",children:"Proposito"}),"\n",(0,n.jsx)(o.p,{children:"Controlar campanas donde cada invitado es identificado y se rastrea su estado individual."}),"\n",(0,n.jsx)(o.h3,{id:"flujo-6",children:"Flujo"}),"\n",(0,n.jsxs)(o.ol,{children:["\n",(0,n.jsxs)(o.li,{children:["El administrador define la encuesta como ",(0,n.jsx)(o.code,{children:"named"})," (",(0,n.jsx)(o.code,{children:"surveyTypeId = 1"}),") o la convierte desde el detalle con ",(0,n.jsx)(o.code,{children:"SurveyTypeModal"}),"."]}),"\n",(0,n.jsxs)(o.li,{children:['En el dashboard aparece la carta "Gestionar encuestados"; desde ahi se cargan/editar registros asociados a ',(0,n.jsx)(o.code,{children:"SurveyUserAccessService"})," y ",(0,n.jsx)(o.code,{children:"SurveyAccess"}),"."]}),"\n",(0,n.jsx)(o.li,{children:"Cada respondente recibe instrucciones personalizadas (correo/SMS) y su avance se refleja en el backend, lo que permite pausar o reenviar invitaciones."}),"\n",(0,n.jsxs)(o.li,{children:["Los KPIs (recibidas vs esperadas) muestran progreso comparando ",(0,n.jsx)(o.code,{children:"surveyAnswerCount"})," con ",(0,n.jsx)(o.code,{children:"qttyGoal"}),"; los jobs utilizan los datos para mantener estados precisos."]}),"\n"]}),"\n",(0,n.jsx)(o.h2,{id:"caso-8-formularios-personalizados-para-ingenio",children:"Caso 8. Formularios personalizados para Ingenio"}),"\n",(0,n.jsx)(o.h3,{id:"proposito-7",children:"Proposito"}),"\n",(0,n.jsx)(o.p,{children:'Adaptar los labels y jerarquias del formulario inicial cuando el cliente utiliza la variacion "Ingenio San Antonio".'}),"\n",(0,n.jsx)(o.h3,{id:"flujo-7",children:"Flujo"}),"\n",(0,n.jsxs)(o.ol,{children:["\n",(0,n.jsxs)(o.li,{children:["En la edicion de cliente (",(0,n.jsx)(o.code,{children:"client-edit-modal.tsx"}),') se selecciona la variacion "Ingenio San Antonio".']}),"\n",(0,n.jsxs)(o.li,{children:["Cuando un encuestado abre la encuesta, ",(0,n.jsx)(o.code,{children:"GeneralDataStep"})," carga el store ",(0,n.jsx)(o.code,{children:"$surveyQuestions"})," y pasa el ",(0,n.jsx)(o.code,{children:"variationName"})," a los pasos ",(0,n.jsx)(o.code,{children:"Welcome"})," y ",(0,n.jsx)(o.code,{children:"DataForm"}),"."]}),"\n",(0,n.jsxs)(o.li,{children:["Dentro de ",(0,n.jsx)(o.code,{children:"DataForm"})," se ejecuta ",(0,n.jsx)(o.code,{children:"transformBackendDataToFields"}),": si ",(0,n.jsx)(o.code,{children:"variationName === 'Preguntas Predeterminadas'"})," se aplica ",(0,n.jsx)(o.code,{children:"LEVEL_CONFIG_NOMBRADA"})," (labels Pais, Departamento, Gerencias, etc.); en cualquier otro caso se activa ",(0,n.jsx)(o.code,{children:"LEVEL_CONFIG_INGENIO"}),", cambiando nombres y placeholders (Sedes o gerencias, Responsables, Auxiliares)."]}),"\n",(0,n.jsxs)(o.li,{children:["Las validaciones de ",(0,n.jsx)(o.code,{children:"react-hook-form"})," se alimentan con el arreglo dinamico generado; asi se asegura que los campos obligatorios para Ingenio coincidan con su jerarquia real sin romper la estructura enviada al backend."]}),"\n",(0,n.jsx)(o.li,{children:"El usuario completa la informacion con la nomenclatura personalizada; los datos se envian al backend con las mismas llaves internas, permitiendo reportes consistentes aun cuando los labels visuales sean distintos."}),"\n"]})]})}function u(e={}){const{wrapper:o}={...(0,i.R)(),...e.components};return o?(0,n.jsx)(o,{...e,children:(0,n.jsx)(t,{...e})}):t(e)}},8453:(e,o,s)=>{s.d(o,{R:()=>l,x:()=>r});var a=s(6540);const n={},i=a.createContext(n);function l(e){const o=a.useContext(i);return a.useMemo(function(){return"function"==typeof e?e(o):{...o,...e}},[o,e])}function r(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:l(e.components),a.createElement(i.Provider,{value:o},e.children)}}}]);